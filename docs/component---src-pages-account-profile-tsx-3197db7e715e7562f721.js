"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[628,316,982,563],{3893:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(6540);const l=(0,a.createContext)(void 0),r=e=>{let{children:t}=e;const{0:n,1:r}=(0,a.useState)("zh-TW"),{0:c,1:u}=(0,a.useState)("TWD");return a.createElement(l.Provider,{value:{language:n,setLanguage:r,currency:c,setCurrency:u}},t)};var c=n(4506);const u=(0,a.createContext)(void 0),i=e=>{let{children:t}=e;const{0:n,1:l}=(0,a.useState)([]);return a.createElement(u.Provider,{value:{notifications:n,addNotification:e=>{const t={...e,id:Date.now().toString(),read:!1};l((e=>[].concat((0,c.A)(e),[t])))},markAsRead:e=>{l((t=>t.map((t=>t.id===e?{...t,read:!0}:t))))},clearNotification:e=>{l((t=>t.filter((t=>t.id!==e))))}}},t)};var o=e=>{let{children:t}=e;return a.createElement(r,null,a.createElement(i,null,a.createElement("main",null,t)))}},1042:function(e,t,n){var a=n(6540),l=n(4794);t.A=e=>{var t,n;let{description:r,lang:c="zh-TW",meta:u=[],title:i,children:o}=e;const{site:m}=(0,l.useStaticQuery)("63159454"),s=r||m.siteMetadata.description,d=null===(t=m.siteMetadata)||void 0===t?void 0:t.title;return a.createElement(a.Fragment,null,a.createElement("html",{lang:c}),a.createElement("title",null,d?`${i} | ${d}`:i),a.createElement("meta",{name:"description",content:s}),a.createElement("meta",{property:"og:title",content:i}),a.createElement("meta",{property:"og:description",content:s}),a.createElement("meta",{property:"og:type",content:"website"}),a.createElement("meta",{name:"twitter:card",content:"summary"}),a.createElement("meta",{name:"twitter:creator",content:(null===(n=m.siteMetadata)||void 0===n?void 0:n.author)||""}),a.createElement("meta",{name:"twitter:title",content:i}),a.createElement("meta",{name:"twitter:description",content:s}),u.map(((e,t)=>a.createElement("meta",{key:t,name:e.name,content:e.content}))),o)}},5259:function(e,t,n){n.r(t);var a=n(6540);t.default=()=>{const{0:e,1:t}=(0,a.useState)([]),{0:n,1:l}=(0,a.useState)(!0),{0:r,1:c}=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/order-history").then((e=>e.json()));t(e)}catch(e){c("無法載入訂單歷史。請稍後再試。")}finally{l(!1)}})()}),[]),n?a.createElement("div",null,"加載中..."):r?a.createElement("div",null,r):a.createElement("div",null,a.createElement("h2",null,"訂單歷史"),e.length>0?a.createElement("ul",null,e.map((e=>a.createElement("li",{key:e.id},"訂單 #",e.id," - 日期: ",e.date," - 總金額: $",e.total)))):a.createElement("p",null,"目前沒有訂單歷史。"))}},8678:function(e,t,n){n.r(t);var a=n(6540);t.default=()=>{const{0:e,1:t}=(0,a.useState)(null),{0:n,1:l}=(0,a.useState)([]),{0:r,1:c}=(0,a.useState)(!0),{0:u,1:i}=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/points-and-coupons").then((e=>e.json()));t(e.points),l(e.coupons)}catch(e){i("無法載入數據。請稍後再試。")}finally{c(!1)}})()}),[]),r?a.createElement("div",null,"加載中..."):u?a.createElement("div",null,u):a.createElement("div",null,a.createElement("h2",null,"積分與優惠券"),null!==e&&a.createElement("p",null,"您當前的積分: ",e),a.createElement("h3",null,"可用優惠券:"),n.length>0?a.createElement("ul",null,n.map((e=>a.createElement("li",{key:e.id},e.code," - 折扣: ",e.discount)))):a.createElement("p",null,"目前沒有可用的優惠券。"))}},5634:function(e,t,n){n.r(t);var a=n(6540);t.default=()=>{const{0:e,1:t}=(0,a.useState)({name:"",email:"",phone:""}),n=e=>{const{name:n,value:a}=e.target;t((e=>({...e,[n]:a})))};return a.createElement("form",{onSubmit:async t=>{t.preventDefault(),console.log("更新資料:",e)}},a.createElement("h2",null,"個人資料"),Object.entries(e).map((e=>{let[t,l]=e;return a.createElement("input",{key:t,type:"email"===t?"email":"phone"===t?"tel":"text",name:t,value:l,onChange:n,placeholder:t.charAt(0).toUpperCase()+t.slice(1),required:"phone"!==t})})),a.createElement("button",{type:"submit"},"更新資料"))}},3116:function(e,t,n){n.r(t);var a=n(6540),l=n(3893),r=n(1042),c=n(5634),u=n(5259),i=n(8678);t.default=()=>a.createElement(l.A,null,a.createElement(r.A,{title:"個人資料",description:"管理您的個人資料和訂單"}),"  ",a.createElement("h1",null,"個人資料"),a.createElement(c.default,null),a.createElement(u.default,null),a.createElement(i.default,null))}}]);
//# sourceMappingURL=component---src-pages-account-profile-tsx-3197db7e715e7562f721.js.map
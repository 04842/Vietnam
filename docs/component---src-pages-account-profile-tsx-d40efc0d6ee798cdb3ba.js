"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[628,316,982,563],{3893:function(e,t,n){n.d(t,{A:function(){return o}});var l=n(6540);const a=(0,l.createContext)(void 0),r=e=>{let{children:t}=e;const{0:n,1:r}=(0,l.useState)("zh-TW"),{0:c,1:u}=(0,l.useState)("TWD");return l.createElement(a.Provider,{value:{language:n,setLanguage:r,currency:c,setCurrency:u}},t)};var c=n(4506);const u=(0,l.createContext)(void 0),i=e=>{let{children:t}=e;const{0:n,1:a}=(0,l.useState)([]);return l.createElement(u.Provider,{value:{notifications:n,addNotification:e=>{const t={...e,id:Date.now().toString(),read:!1};a((e=>[].concat((0,c.A)(e),[t])))},markAsRead:e=>{a((t=>t.map((t=>t.id===e?{...t,read:!0}:t))))},clearNotification:e=>{a((t=>t.filter((t=>t.id!==e))))}}},t)};var o=e=>{let{children:t}=e;return l.createElement(r,null,l.createElement(i,null,l.createElement("main",null,t)))}},5259:function(e,t,n){n.r(t);var l=n(6540);t.default=()=>{const{0:e,1:t}=(0,l.useState)([]),{0:n,1:a}=(0,l.useState)(!0),{0:r,1:c}=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/order-history").then((e=>e.json()));t(e)}catch(e){c("無法載入訂單歷史。請稍後再試。")}finally{a(!1)}})()}),[]),n?l.createElement("div",null,"加載中..."):r?l.createElement("div",null,r):l.createElement("div",null,l.createElement("h2",null,"訂單歷史"),e.length>0?l.createElement("ul",null,e.map((e=>l.createElement("li",{key:e.id},"訂單 #",e.id," - 日期: ",e.date," - 總金額: $",e.total)))):l.createElement("p",null,"目前沒有訂單歷史。"))}},8678:function(e,t,n){n.r(t);var l=n(6540);t.default=()=>{const{0:e,1:t}=(0,l.useState)(null),{0:n,1:a}=(0,l.useState)([]),{0:r,1:c}=(0,l.useState)(!0),{0:u,1:i}=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{try{const e=await fetch("/api/points-and-coupons").then((e=>e.json()));t(e.points),a(e.coupons)}catch(e){i("無法載入數據。請稍後再試。")}finally{c(!1)}})()}),[]),r?l.createElement("div",null,"加載中..."):u?l.createElement("div",null,u):l.createElement("div",null,l.createElement("h2",null,"積分與優惠券"),null!==e&&l.createElement("p",null,"您當前的積分: ",e),l.createElement("h3",null,"可用優惠券:"),n.length>0?l.createElement("ul",null,n.map((e=>l.createElement("li",{key:e.id},e.code," - 折扣: ",e.discount)))):l.createElement("p",null,"目前沒有可用的優惠券。"))}},5634:function(e,t,n){n.r(t);var l=n(6540);t.default=()=>{const{0:e,1:t}=(0,l.useState)({name:"",email:"",phone:""}),n=e=>{const{name:n,value:l}=e.target;t((e=>({...e,[n]:l})))};return l.createElement("form",{onSubmit:async t=>{t.preventDefault(),console.log("更新資料:",e)}},l.createElement("h2",null,"個人資料"),Object.entries(e).map((e=>{let[t,a]=e;return l.createElement("input",{key:t,type:"email"===t?"email":"phone"===t?"tel":"text",name:t,value:a,onChange:n,placeholder:t.charAt(0).toUpperCase()+t.slice(1),required:"phone"!==t})})),l.createElement("button",{type:"submit"},"更新資料"))}},3116:function(e,t,n){n.r(t);var l=n(6540),a=n(3893),r=n(5634),c=n(5259),u=n(8678);t.default=()=>l.createElement(a.A,null,l.createElement("seo",{title:"個人資料",description:"管理您的個人資料和訂單"}),"  ",l.createElement("h1",null,"個人資料"),l.createElement(r.default,null),l.createElement(c.default,null),l.createElement(u.default,null))}}]);
//# sourceMappingURL=component---src-pages-account-profile-tsx-d40efc0d6ee798cdb3ba.js.map